const mysql=require("mysql");const MysqlData=require("../models/MysqlData");const connection=mysql.createConnection((new MysqlData).getConnection());function getPost(postId){return new Promise((resolve,reject)=>{connection.query("SELECT `accounts`.`nickname`, `posts`.`date`, `posts`.`content`\n"+"FROM `posts`\n"+"LEFT JOIN `accounts`\n"+"ON `accounts`.`index`=`posts`.`author`\n"+"WHERE `posts`.`index`=?;",[postId],(error,result,fields)=>{if(error){throw error}if(result.length>0){resolve(result)}else{reject("no-row")}})})}module.exports={getPost:getPost};