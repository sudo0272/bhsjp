const express=require("express");const bodyParser=require("body-parser");const expressSession=require("express-session");const RedisStore=require("connect-redis")(expressSession);const redisClient=require("../models/getRedisClient").getRedisClient();const communityRouter=express.Router();communityRouter.use(bodyParser.urlencoded({extended:true}));communityRouter.use(bodyParser.json());communityRouter.use(bodyParser.raw());communityRouter.use(expressSession({secret:"f%*JNsNn!tFfdqog#Ba7oITKgLW0YYKOm1ARil6MW#BKlmMSrC@LSZnA5E#0!EY63#R%U!NH1#PM4AV80PVDGQDuQbHgZ%&5BEN",resave:false,saveUninitialized:true,store:new RedisStore({client:redisClient,resave:false,saveUninitialized:true}),cookie:{secure:true,name:".bhsjp.kro.kr",domain:"bhsjp.kro.kr",httpOnly:true,maxAge:1e3*60*60*24}}));communityRouter.get("/",(req,res)=>{res.render("community/index",{title:"커뮤니티",isSignedIn:!!req.session.user})});communityRouter.get("/view-posts",(req,res)=>{});communityRouter.get("/read-post",(req,res)=>{});communityRouter.get("/write-post",(req,res)=>{});communityRouter.post("/create-post",(req,res)=>{});communityRouter.post("/update-post",(req,res)=>{});communityRouter.post("delete-post",(req,res)=>{});communityRouter.post("/create-comment",(req,res)=>{});communityRouter.post("/update-comment",(req,res)=>{});communityRouter.post("/delete-post",(req,res)=>{});communityRouter.get("/*",(req,res)=>{res.render("errors/404",{title:"404 Not Found",isSignedIn:req.session.user})});module.exports={router:communityRouter};